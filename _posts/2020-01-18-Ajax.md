---
layout:     post   				    # 使用的布局（不需要改）
title:      Ajax				# 标题 
#subtitle:   Hello World, Hello Blog #副标题
date:       2020-01-18				# 时间
author:     Teng 						# 作者
header-img: img/post-bg-2015.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - javascript
---
## Ajax

### 手写一个简易的Ajax

```js
//promise
function ajax(url) {
    const p = new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest()
        xhr.open("GET", url, true)
        xhr.onreadystatechange = function () {
        if(xhr.readystate === 4) {
            if(xhr.status === 200) {
               resolve(JSON.parse(xhr.responseText))
            }else if(xhr.status === 404) {
                reject(new Error('404 not found'))
            }
        }
    }
    xhr.send(null)
    })
    return p
}
```
![4.png](https://i.loli.net/2020/02/29/SZlkIUsyO6BVXi4.png)

![14.png](https://i.loli.net/2020/02/29/B4nKsqILPUCFEkV.png)